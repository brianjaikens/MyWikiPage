/* Site theme - Subnautica-inspired color scheme */
:root{
  --primary-dark:#072235;     /* deep navy */
  --primary:#1b6ea8;          /* main blue */
  --primary-light:#6fc5ee;    /* light cyan */
  --accent:#ffb300;           /* warm orange accent */
  --muted:#9fb3c9;            /* muted cyan */
  --panel-bg:rgba(4,8,12,0.72);
  --glass:rgba(255,255,255,0.03);
  --border:rgba(255,255,255,0.06);
  --body-bg:#071323;         /* page background fallback */
  --body-color:#e6f7ff;      /* light text */
}

/* Light theme overrides */
[data-theme="light"]{
  --panel-bg:rgba(255,255,255,0.92);
  --glass:rgba(0,0,0,0.02);
  --border:rgba(0,0,0,0.06);
  --body-bg:#f7fbff;
  --body-color:#0b2a3a;
}

/* Dark theme (default) */
[data-theme="dark"]{
  --panel-bg:rgba(2,6,10,0.78);
  --glass:rgba(255,255,255,0.02);
  --border:rgba(255,255,255,0.06);
  --body-bg:linear-gradient(180deg,#071323 0%, #0b2330 60%, #0a1620 100%);
  --body-color:#e9f6ff;
}

/* Base layout */
html{box-sizing:border-box;font-size:16px}
*,*::before,*::after{box-sizing:inherit}
body{margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:var(--body-bg); color:var(--body-color); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale}

/* Hero / page header background - uses gradient; will overlay any background image if provided */
.site-hero{
  position:relative;
  padding:2.25rem 0;
  margin-bottom:1.25rem;
  background:linear-gradient(120deg, rgba(20,80,120,0.86) 0%, rgba(10,30,48,0.75) 50%, rgba(2,6,10,0.9) 100%);
  color:var(--body-color);
  border-radius:0.5rem;
  overflow:hidden;
}
.site-hero::after{
  content:"";position:absolute;inset:0;pointer-events:none;background:linear-gradient(180deg,transparent,rgba(0,0,0,0.25));mix-blend-mode:overlay}
.site-hero .hero-inner{position:relative;z-index:2}
.site-brand{font-weight:800;letter-spacing:1.6px;font-size:1.5rem;color:var(--primary-light);text-transform:uppercase}
.site-tagline{color:var(--muted);font-weight:500}

/* Navbar styling - glassy with accent line */
.navbar{
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));
  border-bottom:1px solid var(--border);
  box-shadow:0 6px 18px rgba(0,0,0,0.35);
}
.navbar .navbar-brand{font-weight:700;color:var(--primary-light);font-size:1.25rem}
.navbar .nav-link{color:var(--body-color)}
.navbar .nav-link:hover{color:var(--primary-light)}

/* Accent underline for active nav items */
.navbar .nav-link.active{
  position:relative;color:var(--primary-light);
}
.navbar .nav-link.active::after{
  content:"";position:absolute;left:0;right:0;bottom:-12px;height:3px;background:linear-gradient(90deg,var(--primary) 0%,var(--primary-light) 60%);border-radius:2px}

/* Panels (cards/widgets) with glass/dark look */
.panel{
  background:var(--panel-bg);
  border:1px solid var(--border);
  border-radius:0.5rem;
  padding:1.25rem;
  color:var(--body-color);
  box-shadow:0 4px 18px rgba(2,6,10,0.45);
}
.panel .panel-title{font-weight:800;color:var(--primary-light);margin-bottom:0.75rem}
.panel.panel-accent{border-left:4px solid var(--primary-light)}

/* Wiki content improvement */
.wiki-content{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent); padding:1.5rem; border-radius:0.5rem; border:1px solid var(--border)}
.wiki-content h1{font-size:2rem;color:var(--accent);letter-spacing:1px}
.wiki-content h2{font-size:1.5rem;color:var(--primary-light);margin-top:1.25rem}
.wiki-content p{color:var(--body-color);line-height:1.65}
.wiki-content a{color:var(--primary-light);font-weight:600}
.wiki-content a:hover{text-decoration:underline;color:var(--primary)}

/* Enhanced callouts */
.callout{display:block;padding:1rem;border-radius:0.375rem;margin:1rem 0;border-left:4px solid var(--primary);background:rgba(255,255,255,0.02)}
.callout .title{font-weight:700;color:var(--primary-light)}

/* Side widgets */
.widget{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));padding:1rem;border-radius:0.5rem;border:1px solid var(--border);}
.widget h4{margin-top:0;color:var(--primary-light);font-weight:800}
.widget .item{padding:0.45rem 0;border-bottom:1px dashed rgba(255,255,255,0.02)}

/* Buttons */
.btn-primary{
  background:linear-gradient(90deg,var(--primary) 0%, var(--primary-light) 100%);
  border:1px solid rgba(255,255,255,0.06);
  color:white;
  box-shadow:0 6px 18px rgba(27,110,168,0.18);
}
.btn-outline-primary{color:var(--primary-light);border:1px solid rgba(111,197,238,0.12)}
.btn-accent{background:var(--accent);color:#071323;border:0}

/* Link badges and counts */
.badge-accent{background:transparent;color:var(--accent);border:1px solid rgba(255,179,0,0.18);font-weight:700}

/* Tables and code blocks */
.wiki-content table{width:100%;border-collapse:collapse;border:1px solid var(--border);background:transparent}
.wiki-content th, .wiki-content td{padding:0.75rem;border:1px solid rgba(255,255,255,0.03)}
.wiki-content pre{background:rgba(0,0,0,0.45);padding:1rem;border-radius:0.375rem;color:var(--body-color);overflow:auto}

/* Footer */
.footer{background:transparent;border-top:1px solid var(--border);padding:1rem 0;color:var(--muted)}

/* Small helpers */
.kicker{font-size:0.85rem;color:var(--muted);text-transform:uppercase;letter-spacing:1px}
.lead{color:var(--muted)}
.container{max-width:1100px}

/* Responsive adjustments */
@media (max-width:767.98px){
  .site-hero{padding:1rem}
  .site-brand{font-size:1.125rem}
  .navbar .nav-link{font-size:0.95rem}
}

/* Preserve compatibility with existing class names */
/* Keep wiki-loading overlay and toolbar styling from previous design */
.wiki-loading-overlay{position:absolute;inset:0;background:rgba(2,6,10,0.6);display:flex;align-items:center;justify-content:center;border-radius:0.5rem}
.wiki-toolbar{border-top-color:var(--border) !important}

/* Accessibility focus states */
.btn:focus,.form-control:focus{outline:3px solid rgba(111,197,238,0.18);outline-offset:2px}

/* End of theme */

/* Navbar layout fixes: ensure horizontal menu at small+ sizes */
@media (min-width: 576px) {
  .navbar-nav {
    display: flex !important;
    flex-direction: row !important;
    align-items: center;
  }
  .navbar-nav .nav-item + .nav-item {
    margin-left: 0.75rem;
  }
  .navbar-nav .nav-link {
    padding: 0.5rem 0.75rem;
  }

  /* Prevent the navbar row from wrapping so brand, nav, and actions stay on one line */
  .navbar .row {
    flex-wrap: nowrap;
  }

  /* Make the center column shrink as needed and let collapse display flex for alignment */
  .navbar .col {
    min-width: 0;
  }
  .navbar .collapse {
    display: flex !important;
    align-items: center;
    justify-content: center;
  }
}

/* Ensure toggler remains visible on small screens */
.navbar-toggler { border-color: rgba(255,255,255,0.08); }
.navbar-toggler-icon { filter: invert(1) opacity(0.9); },

/* Keep nav when collapsed stacked with spacing */
@media (max-width: 575.98px) {
  .navbar-nav { flex-direction: column !important; gap: 0.35rem; }
  .navbar-nav .nav-link { padding: 0.5rem 0.75rem; }

  /* Allow wrap on small screens so collapsed menu stacks naturally */
  .navbar .row {
    flex-wrap: wrap;
  }
  .navbar .collapse { display: block !important; }
}
